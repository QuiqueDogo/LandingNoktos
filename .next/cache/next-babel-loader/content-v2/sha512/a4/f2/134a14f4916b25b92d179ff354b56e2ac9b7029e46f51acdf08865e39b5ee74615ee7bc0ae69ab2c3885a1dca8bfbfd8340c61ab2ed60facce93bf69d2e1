{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _toConsumableArray from \"C:/Users/Quique/Desktop/LandingCustomers/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"C:/Users/Quique/Desktop/LandingCustomers/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:/Users/Quique/Desktop/LandingCustomers/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport Support from \"components/Support/Support\";\nimport MainPage from \"./components/MainPage/MainPage\";\nimport OurPlans from \"./components/OurPlans/OurPlans\";\nimport TableInfo from \"./components/TableInfo/TableInfo\";\nimport PricesInfo from \"./components/PricesInfo/PricesInfo\";\nimport LandingPageLayout from \"components/layouts/LandingPageLayout/LandingPageLayout\";\nimport { useEffect, useState } from \"react\";\nimport { hideLoader, showLoader } from \"../../redux/actions/application\";\nimport axios from \"axios\";\nimport { apiRoutes } from \"../../utils/apiRoutes\";\nimport { setBasicConfigurationRequest, setConfigurationRequest } from \"../../utils/requests\";\nimport Swal from \"sweetalert2\";\nimport { setSelectedMembership } from \"../../redux/actions/membershipAction\";\nimport { useDispatch } from \"react-redux\";\nimport { getBenefitsCatalog, getCataloOfMembership } from \"../../services/membershipService\";\nimport AllBenefits from \"./components/AllBenefits/AllBenefits\";\nimport useIsDesktop from \"../../customHooks/useIsDesktop\";\n\nvar Prices = function Prices() {\n  var _useState = useState([]),\n      benefits = _useState[0],\n      setBenefits = _useState[1];\n\n  var _useState2 = useState([]),\n      memberships = _useState2[0],\n      setMemberships = _useState2[1];\n\n  var _useIsDesktop = useIsDesktop(),\n      _useIsDesktop2 = _slicedToArray(_useIsDesktop, 1),\n      isDesktop = _useIsDesktop2[0];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    getMembershipCatalog();\n    getBenefits();\n  }, []);\n\n  var getMembershipCatalog = function getMembershipCatalog() {\n    dispatch(showLoader());\n    getCataloOfMembership().then(function (response) {\n      dispatch(hideLoader());\n      var allMemberships = [];\n\n      var _iterator = _createForOfIteratorHelper(response.data.suscripciones_membresias),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var membership = _step.value;\n\n          if (membership.catalogo_membresia.length > 0) {\n            var value = {\n              \"name_membership\": membership.nombre,\n              \"discount\": membership.descuento,\n              \"price_membership\": membership.catalogo_membresia[0].costo_anual,\n              \"price_membership_month\": membership.catalogo_membresia[0].costo_mensual,\n              \"id_membership\": membership.id,\n              \"tokens\": membership.catalogo_membresia[0].numero_tokens,\n              \"nights\": membership.catalogo_membresia[0].noches_gratis,\n              \"id_package\": membership.catalogo_membresia[0].id,\n              \"description\": setDescription(membership),\n              \"description_extra\": \"\"\n            };\n\n            if (membership.id < 4) {\n              allMemberships.push(value);\n            } else {//annualMemberships.push(value)\n            } //allMemberships.push(value)\n\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var freePlan = {\n        \"name_membership\": \"GRATUITA\",\n        \"discount\": \"\",\n        \"price_membership\": \"0\",\n        \"price_membership_month\": \"\",\n        \"id_membership\": \"free\",\n        \"tokens\": \"\",\n        \"nights\": \"\",\n        \"id_package\": \"free\",\n        \"description\": \"Inscríbete al ecosistema y disfruta de los beneficios.\",\n        \"description_extra\": \"Perfecto para que utilices nuestra plataforma Noktos y descubras lo que tenemos para ofrecerte con nuestros servicios.\"\n      };\n      allMemberships.push(freePlan);\n      console.log(\"allMemberships\");\n      console.log(allMemberships);\n      setMemberships(allMemberships);\n    })[\"catch\"](function (error) {\n      dispatch(hideLoader());\n      console.log(\"error\");\n      console.log(error);\n    });\n  };\n\n  var getBenefits = function getBenefits() {\n    dispatch(showLoader());\n    getBenefitsCatalog().then(function (response) {\n      dispatch(hideLoader());\n      response.data.rubro_beneficios.map(function (typeOfBenefits) {\n        return typeOfBenefits.beneficios.map(function (benefits) {\n          return benefits.suscripciones.map(function (suscription) {\n            if (suscription.id === 1) {\n              var basic = _objectSpread({}, benefits.suscripciones[0]);\n\n              basic.id = \"free\";\n              basic.nombre = \"GRATUITA\";\n              return benefits.suscripciones = [].concat(_toConsumableArray(benefits.suscripciones), [basic]);\n            } else {\n              return benefits.suscripciones;\n            }\n          });\n        });\n      });\n      setBenefits(response.data.rubro_beneficios);\n    })[\"catch\"](function (error) {\n      dispatch(hideLoader());\n      console.log(error);\n    });\n  };\n\n  var setDescription = function setDescription(membership) {\n    switch (membership.id) {\n      case 1:\n        return \"Para negocios con viajes esporádicos o poco frecuentes\";\n\n      case 2:\n        return \"Para empresas con viajes de negocios poco frecuentes\";\n\n      case 3:\n        return \"Para alta demanda de viajes de negocios\";\n\n      case 4:\n        return \"Para negocios con viajes esporádicoso poco frecuentes\";\n\n      case 5:\n        return \"Para empresas con viajes de negocios poco frecuentes\";\n\n      case 6:\n        return \"Para alta demanda de viajes de negocios\";\n    }\n  };\n\n  return /*#__PURE__*/_jsxs(LandingPageLayout, {\n    title: \"Precios\",\n    children: [/*#__PURE__*/_jsx(MainPage, {}), /*#__PURE__*/_jsx(OurPlans, {}), /*#__PURE__*/_jsx(PricesInfo, {\n      memberships: memberships,\n      fromScreen: 1\n    }), !isDesktop && /*#__PURE__*/_jsx(TableInfo, {\n      benefits: benefits\n    }), isDesktop && /*#__PURE__*/_jsx(AllBenefits, {\n      benefits: benefits\n    }), /*#__PURE__*/_jsx(Support, {})]\n  });\n};\n\nexport default Prices;","map":null,"metadata":{},"sourceType":"module"}